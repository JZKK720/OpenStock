# ============================================
# OpenStock Environment Configuration
# ============================================

# ============================================
# CORE CONFIGURATION
# ============================================
NODE_ENV=development

# ============================================
# DATABASE (Required)
# ============================================
# For Docker Compose (local MongoDB):
MONGODB_URI=mongodb://root:example@mongodb:27017/openstock?authSource=admin

# For MongoDB Atlas (cloud):
# MONGODB_URI=mongodb+srv://<username>:<password>@<cluster>.mongodb.net/openstock?retryWrites=true&w=majority

# ============================================
# AUTHENTICATION (Required)
# ============================================
# Generate a secure secret: openssl rand -base64 32
BETTER_AUTH_SECRET=your_32_character_minimum_secret_key_here

# For Docker setup, use port 3101 (external port from docker-compose.yml)
BETTER_AUTH_URL=http://localhost:3101

# For local development (without Docker), use port 3000
# BETTER_AUTH_URL=http://localhost:3000

# ============================================
# STOCK MARKET DATA - FINNHUB (Required)
# ============================================
# Finnhub provides stock prices, company profiles, news, and search
# This is REQUIRED for core stock functionality
# Get your free API key at: https://finnhub.io/register
NEXT_PUBLIC_FINNHUB_API_KEY=your_finnhub_api_key_here
FINNHUB_BASE_URL=https://finnhub.io/api/v1

# ============================================
# WORKFLOW AUTOMATION - INNGEST (Required)
# ============================================
# Required for background jobs (emails, alerts, AI processing)
# Get your signing key at: https://app.inngest.com/env/settings/keys
INNGEST_SIGNING_KEY=your_inngest_signing_key_here

# ============================================
# EMAIL SERVICE (Required)
# ============================================
# Gmail configuration for sending emails
# Use Gmail App Password (not regular password)
# Enable 2FA, then create App Password at: https://myaccount.google.com/apppasswords
NODEMAILER_EMAIL=your_email@gmail.com
NODEMAILER_PASSWORD=your_gmail_app_password_here

# ============================================
# AI PROVIDER CONFIGURATION (Optional)
# ============================================
# Choose your AI provider for personalized content generation
# Options: gemini (default), ollama (local), lmstudio (local), siray (cloud)
AI_PROVIDER=ollama

# ============================================
# GOOGLE GEMINI (Cloud AI) - Optional
# ============================================
# Only required if AI_PROVIDER=gemini
# Get API key at: https://aistudio.google.com/app/apikey
# GEMINI_API_KEY=your_gemini_api_key_here

# ============================================
# OLLAMA (Local AI) - Recommended for Privacy
# ============================================
# Run Ollama on your host machine: https://ollama.com/download
# For Docker setup, use host.docker.internal to access host services
OLLAMA_BASE_URL=http://host.docker.internal:11434
OLLAMA_MODEL=llama3.2

# Available models: llama3.2, llama3.1, mistral, phi, etc.
# Install: ollama pull llama3.2

# ============================================
# LM STUDIO (Local AI) - Alternative Local Option
# ============================================
# Run LM Studio on your host machine: https://lmstudio.ai/
# For Docker setup, use host.docker.internal to access host services
# LMSTUDIO_BASE_URL=http://host.docker.internal:14321/v1
# LMSTUDIO_MODEL=local-model

# ============================================
# SIRAY.AI (Cloud AI) - Optional Fallback
# ============================================
# Alternative cloud AI provider
# Get API key at: https://siray.ai/
# SIRAY_API_KEY=your_siray_api_key_here

# ============================================
# NOTES
# ============================================
# 1. Finnhub API is REQUIRED for stock data (prices, profiles, news)
# 2. AI Provider is OPTIONAL - only used for personalized emails/content
# 3. For Docker: Use port 3101 in BETTER_AUTH_URL
# 4. For Docker + Local AI: Use host.docker.internal in AI URLs
# 5. MongoDB credentials in docker-compose.yml must match MONGODB_URI
